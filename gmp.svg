<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="2669pt" height="1605pt"
 viewBox="0.00 0.00 2669.00 1605.44" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1601.44)">
<title>%3</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1601.44 2665,-1601.44 2665,4 -4,4"/>
<text text-anchor="middle" x="1330.5" y="-1569.44" font-family="Times New Roman,serif" font-size="30.00">Firefox&#39;s Gecko Media Plugin class/process Architecture</text>
<g id="clust1" class="cluster"><title>cluster_main_process</title>
<polygon fill="none" stroke="black" points="1694,-978.1 1694,-1548.44 2328,-1548.44 2328,-978.1 1694,-978.1"/>
<text text-anchor="middle" x="2011" y="-1533.24" font-family="Times New Roman,serif" font-size="14.00">Main Process</text>
</g>
<g id="clust3" class="cluster"><title>cluster_gmp_process</title>
<polygon fill="none" stroke="black" points="1694,-415.123 1694,-925.41 2653,-925.41 2653,-415.123 1694,-415.123"/>
<text text-anchor="middle" x="2173.5" y="-910.21" font-family="Times New Roman,serif" font-size="14.00">GMP/CDM Process</text>
</g>
<g id="clust4" class="cluster"><title>cluster_content_process</title>
<polygon fill="none" stroke="black" points="8,-8 8,-1199.53 1686,-1199.53 1686,-8 8,-8"/>
<text text-anchor="middle" x="847" y="-1184.33" font-family="Times New Roman,serif" font-size="14.00">Content Process</text>
</g>
<!-- GeckoMediaPluginServiceParent -->
<g id="node1" class="node"><title>GeckoMediaPluginServiceParent</title>
<ellipse fill="none" stroke="black" cx="2164" cy="-1386.57" rx="155.627" ry="26.7407"/>
<text text-anchor="middle" x="2164" y="-1390.37" font-family="Times New Roman,serif" font-size="14.00">GeckoMediaPluginServiceParent</text>
<text text-anchor="middle" x="2164" y="-1375.37" font-family="Times New Roman,serif" font-size="14.00">(extends GeckoMediaPluginService)</text>
</g>
<!-- GMPParent -->
<g id="node2" class="node"><title>GMPParent</title>
<ellipse fill="khaki" stroke="black" cx="2044" cy="-1274.61" rx="96.7474" ry="48.1667"/>
<text text-anchor="middle" x="2044" y="-1293.41" font-family="Times New Roman,serif" font-size="14.00">GMPParent</text>
<text text-anchor="middle" x="2044" y="-1278.41" font-family="Times New Roman,serif" font-size="14.00">(one per plugin type,</text>
<text text-anchor="middle" x="2044" y="-1263.41" font-family="Times New Roman,serif" font-size="14.00">plus a clone for every</text>
<text text-anchor="middle" x="2044" y="-1248.41" font-family="Times New Roman,serif" font-size="14.00">actve instance)</text>
</g>
<!-- GeckoMediaPluginServiceParent&#45;&gt;GMPParent -->
<g id="edge1" class="edge"><title>GeckoMediaPluginServiceParent&#45;&gt;GMPParent</title>
<path fill="none" stroke="black" d="M2136.17,-1360.06C2124.48,-1349.36 2110.49,-1336.54 2096.98,-1324.16"/>
<polygon fill="black" stroke="black" points="2099.28,-1321.51 2089.54,-1317.34 2094.55,-1326.67 2099.28,-1321.51"/>
</g>
<!-- GMPServiceParent -->
<g id="node4" class="node"><title>GMPServiceParent</title>
<ellipse fill="khaki" stroke="black" cx="2239" cy="-1274.61" rx="80.6858" ry="18"/>
<text text-anchor="middle" x="2239" y="-1270.91" font-family="Times New Roman,serif" font-size="14.00">GMPServiceParent</text>
</g>
<!-- GeckoMediaPluginServiceParent&#45;&gt;GMPServiceParent -->
<g id="edge3" class="edge"><title>GeckoMediaPluginServiceParent&#45;&gt;GMPServiceParent</title>
<path fill="none" stroke="black" d="M2181.58,-1359.79C2193.6,-1342.17 2209.47,-1318.91 2221.48,-1301.3"/>
<polygon fill="black" stroke="black" points="2224.62,-1302.91 2227.36,-1292.68 2218.84,-1298.96 2224.62,-1302.91"/>
</g>
<!-- main_GMPContentParent -->
<g id="node3" class="node"><title>main_GMPContentParent</title>
<ellipse fill="khaki" stroke="black" cx="2017" cy="-1149.53" rx="134.201" ry="37.4533"/>
<text text-anchor="middle" x="2017" y="-1160.83" font-family="Times New Roman,serif" font-size="14.00">GMPContentParent</text>
<text text-anchor="middle" x="2017" y="-1145.83" font-family="Times New Roman,serif" font-size="14.00">(exists here to pass bridged</text>
<text text-anchor="middle" x="2017" y="-1130.83" font-family="Times New Roman,serif" font-size="14.00">endpoint to content processes)</text>
</g>
<!-- GMPParent&#45;&gt;main_GMPContentParent -->
<g id="edge2" class="edge"><title>GMPParent&#45;&gt;main_GMPContentParent</title>
<path fill="none" stroke="black" d="M2033.72,-1226.73C2031.57,-1216.95 2029.31,-1206.64 2027.17,-1196.88"/>
<polygon fill="black" stroke="black" points="2030.55,-1195.97 2024.99,-1186.95 2023.71,-1197.47 2030.55,-1195.97"/>
</g>
<!-- GMPTimerParent -->
<g id="node5" class="node"><title>GMPTimerParent</title>
<ellipse fill="khaki" stroke="black" cx="2245" cy="-1149.53" rx="75.2868" ry="18"/>
<text text-anchor="middle" x="2245" y="-1145.83" font-family="Times New Roman,serif" font-size="14.00">GMPTimerParent</text>
</g>
<!-- GMPParent&#45;&gt;GMPTimerParent -->
<g id="edge5" class="edge"><title>GMPParent&#45;&gt;GMPTimerParent</title>
<path fill="none" stroke="black" d="M2104.03,-1236.85C2138.73,-1215.6 2181.16,-1189.62 2210.35,-1171.75"/>
<polygon fill="black" stroke="black" points="2212.26,-1174.68 2218.96,-1166.47 2208.6,-1168.71 2212.26,-1174.68"/>
</g>
<!-- GMPStorageParent -->
<g id="node6" class="node"><title>GMPStorageParent</title>
<ellipse fill="khaki" stroke="black" cx="1783" cy="-1149.53" rx="81.4863" ry="18"/>
<text text-anchor="middle" x="1783" y="-1145.83" font-family="Times New Roman,serif" font-size="14.00">GMPStorageParent</text>
</g>
<!-- GMPParent&#45;&gt;GMPStorageParent -->
<g id="edge4" class="edge"><title>GMPParent&#45;&gt;GMPStorageParent</title>
<path fill="none" stroke="black" d="M1970.6,-1243.2C1940.41,-1230.29 1905.27,-1214.73 1874,-1199.53 1856.19,-1190.87 1836.83,-1180.58 1820.56,-1171.66"/>
<polygon fill="black" stroke="black" points="1821.82,-1168.36 1811.37,-1166.59 1818.44,-1174.49 1821.82,-1168.36"/>
</g>
<!-- GMPChild -->
<g id="node17" class="node"><title>GMPChild</title>
<ellipse fill="khaki" stroke="black" cx="2305" cy="-876.41" rx="50.0912" ry="18"/>
<text text-anchor="middle" x="2305" y="-872.71" font-family="Times New Roman,serif" font-size="14.00">GMPChild</text>
</g>
<!-- GMPParent&#45;&gt;GMPChild -->
<g id="edge63" class="edge"><title>GMPParent&#45;&gt;GMPChild</title>
<path fill="none" stroke="black" d="M2120.87,-1236.3C2130.21,-1232.62 2139.73,-1229.25 2149,-1226.53 2187.81,-1215.15 2302.28,-1229.89 2329,-1199.53 2403.58,-1114.8 2346.04,-964.157 2318.04,-903.644"/>
<polygon fill="black" stroke="black" points="2119.55,-1233.06 2111.6,-1240.08 2122.19,-1239.55 2119.55,-1233.06"/>
<polygon fill="black" stroke="black" points="2321.11,-901.944 2313.66,-894.403 2314.78,-904.939 2321.11,-901.944"/>
<text text-anchor="middle" x="2385" y="-1082.85" font-family="Times New Roman,serif" font-size="14.00">PGMP</text>
</g>
<!-- content_GMPContentParent -->
<g id="node12" class="node"><title>content_GMPContentParent</title>
<ellipse fill="khaki" stroke="black" cx="1344" cy="-876.41" rx="161.441" ry="37.4533"/>
<text text-anchor="middle" x="1344" y="-887.71" font-family="Times New Roman,serif" font-size="14.00">GMPContentParent</text>
<text text-anchor="middle" x="1344" y="-872.71" font-family="Times New Roman,serif" font-size="14.00">holds parent actors of active</text>
<text text-anchor="middle" x="1344" y="-857.71" font-family="Times New Roman,serif" font-size="14.00">protocols which talk to GMP process</text>
</g>
<!-- main_GMPContentParent&#45;&gt;content_GMPContentParent -->
<g id="edge11" class="edge"><title>main_GMPContentParent&#45;&gt;content_GMPContentParent</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M2115.96,-1124.05C2172.88,-1107.75 2236.34,-1084.99 2253,-1061.05 2274.06,-1030.79 2278.3,-1004.92 2253,-978.1 2196.63,-918.353 1595.63,-950.757 1515,-935.1 1487.74,-929.807 1458.87,-921.266 1432.76,-912.359"/>
<polygon fill="black" stroke="black" points="1433.87,-909.04 1423.27,-909.067 1431.57,-915.653 1433.87,-909.04"/>
<text text-anchor="middle" x="2299" y="-1019.88" font-family="Times New Roman,serif" font-size="14.00">bridged to</text>
</g>
<!-- GMPServiceChild -->
<g id="node24" class="node"><title>GMPServiceChild</title>
<ellipse fill="khaki" stroke="black" cx="1601" cy="-876.41" rx="77.1866" ry="18"/>
<text text-anchor="middle" x="1601" y="-872.71" font-family="Times New Roman,serif" font-size="14.00">GMPServiceChild</text>
</g>
<!-- GMPServiceParent&#45;&gt;GMPServiceChild -->
<g id="edge64" class="edge"><title>GMPServiceParent&#45;&gt;GMPServiceChild</title>
<path fill="none" stroke="black" d="M2287.7,-1255.06C2407.84,-1206.82 2700.38,-1072.87 2583,-953.1 2548.27,-917.66 1737.44,-949.651 1690,-935.1 1667.06,-928.064 1644.42,-913.247 1627.71,-900.391"/>
<polygon fill="black" stroke="black" points="2286.32,-1251.84 2278.33,-1258.79 2288.91,-1258.34 2286.32,-1251.84"/>
<polygon fill="black" stroke="black" points="1629.55,-897.383 1619.55,-893.899 1625.2,-902.862 1629.55,-897.383"/>
<text text-anchor="middle" x="2620.5" y="-1082.85" font-family="Times New Roman,serif" font-size="14.00">PGMPService</text>
</g>
<!-- GMPTimerChild -->
<g id="node16" class="node"><title>GMPTimerChild</title>
<ellipse fill="khaki" stroke="black" cx="2574" cy="-703.637" rx="71.4873" ry="18"/>
<text text-anchor="middle" x="2574" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">GMPTimerChild</text>
</g>
<!-- GMPTimerParent&#45;&gt;GMPTimerChild -->
<g id="edge68" class="edge"><title>GMPTimerParent&#45;&gt;GMPTimerChild</title>
<path fill="none" stroke="black" d="M2319.86,-1137.9C2352.79,-1130.17 2390.21,-1116.87 2418,-1094.05 2534.19,-998.674 2564.43,-803.95 2571.79,-732.081"/>
<polygon fill="black" stroke="black" points="2318.81,-1134.55 2309.8,-1140.13 2320.32,-1141.38 2318.81,-1134.55"/>
<polygon fill="black" stroke="black" points="2575.28,-732.302 2572.75,-722.015 2568.31,-731.637 2575.28,-732.302"/>
<text text-anchor="middle" x="2552.5" y="-956.9" font-family="Times New Roman,serif" font-size="14.00">PGMPTimer</text>
</g>
<!-- GMPDiskStorage -->
<g id="node10" class="node"><title>GMPDiskStorage</title>
<ellipse fill="none" stroke="black" cx="1829" cy="-1023.58" rx="126.644" ry="37.4533"/>
<text text-anchor="middle" x="1829" y="-1034.88" font-family="Times New Roman,serif" font-size="14.00">GMPDiskStorage</text>
<text text-anchor="middle" x="1829" y="-1019.88" font-family="Times New Roman,serif" font-size="14.00">Used in normal</text>
<text text-anchor="middle" x="1829" y="-1004.88" font-family="Times New Roman,serif" font-size="14.00">(non&#45;private) browsing mode</text>
</g>
<!-- GMPStorageParent&#45;&gt;GMPDiskStorage -->
<g id="edge9" class="edge"><title>GMPStorageParent&#45;&gt;GMPDiskStorage</title>
<path fill="none" stroke="black" d="M1789.3,-1131.55C1795.12,-1115.86 1804.05,-1091.8 1811.97,-1070.48"/>
<polygon fill="black" stroke="black" points="1815.32,-1071.51 1815.52,-1060.91 1808.75,-1069.07 1815.32,-1071.51"/>
</g>
<!-- GMPMemStorage -->
<g id="node11" class="node"><title>GMPMemStorage</title>
<ellipse fill="none" stroke="black" cx="2109" cy="-1023.58" rx="135.115" ry="26.7407"/>
<text text-anchor="middle" x="2109" y="-1027.38" font-family="Times New Roman,serif" font-size="14.00">GMPMemStorage</text>
<text text-anchor="middle" x="2109" y="-1012.38" font-family="Times New Roman,serif" font-size="14.00">Used in private browsing mode</text>
</g>
<!-- GMPStorageParent&#45;&gt;GMPMemStorage -->
<g id="edge10" class="edge"><title>GMPStorageParent&#45;&gt;GMPMemStorage</title>
<path fill="none" stroke="black" d="M1820.11,-1133.41C1836.58,-1126.77 1856.22,-1118.92 1874,-1112.05 1928.32,-1091.06 1990.05,-1068.12 2036.6,-1051"/>
<polygon fill="black" stroke="black" points="2037.82,-1054.28 2046,-1047.54 2035.41,-1047.71 2037.82,-1054.28"/>
</g>
<!-- GMPStorageChild -->
<g id="node14" class="node"><title>GMPStorageChild</title>
<ellipse fill="khaki" stroke="black" cx="2400" cy="-703.637" rx="84.7059" ry="37.4533"/>
<text text-anchor="middle" x="2400" y="-714.937" font-family="Times New Roman,serif" font-size="14.00">GMPStorageChild</text>
<text text-anchor="middle" x="2400" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">Provides API for</text>
<text text-anchor="middle" x="2400" y="-684.937" font-family="Times New Roman,serif" font-size="14.00"> storage to CDM</text>
</g>
<!-- GMPStorageParent&#45;&gt;GMPStorageChild -->
<g id="edge67" class="edge"><title>GMPStorageParent&#45;&gt;GMPStorageChild</title>
<path fill="none" stroke="black" d="M1823.8,-1128.68C1839.17,-1122.14 1857.04,-1115.63 1874,-1112.05 1902.07,-1106.13 2369.81,-1114.43 2390,-1094.05 2436.63,-1047 2417.75,-843.911 2406.31,-751.158"/>
<polygon fill="black" stroke="black" points="1822.33,-1125.5 1814.58,-1132.72 1825.14,-1131.91 1822.33,-1125.5"/>
<polygon fill="black" stroke="black" points="2409.78,-750.692 2405.06,-741.206 2402.84,-751.565 2409.78,-750.692"/>
<text text-anchor="middle" x="2460" y="-956.9" font-family="Times New Roman,serif" font-size="14.00">PGMPStorage</text>
</g>
<!-- GMPProvider -->
<g id="node7" class="node"><title>GMPProvider</title>
<polygon fill="plum" stroke="black" points="2317.5,-1517.44 2136.5,-1517.44 2136.5,-1464.44 2317.5,-1464.44 2317.5,-1517.44"/>
<text text-anchor="middle" x="2227" y="-1502.24" font-family="Times New Roman,serif" font-size="14.00">GMPProvider</text>
<text text-anchor="middle" x="2227" y="-1487.24" font-family="Times New Roman,serif" font-size="14.00">JavaScript, Firefox front end,</text>
<text text-anchor="middle" x="2227" y="-1472.24" font-family="Times New Roman,serif" font-size="14.00">manages plugins</text>
</g>
<!-- GMPProvider&#45;&gt;GeckoMediaPluginServiceParent -->
<g id="edge6" class="edge"><title>GMPProvider&#45;&gt;GeckoMediaPluginServiceParent</title>
<path fill="none" stroke="black" d="M2211.26,-1464.37C2203.43,-1451.64 2193.85,-1436.06 2185.36,-1422.28"/>
<polygon fill="black" stroke="black" points="2188.19,-1420.2 2179.97,-1413.52 2182.23,-1423.87 2188.19,-1420.2"/>
<text text-anchor="middle" x="2244" y="-1435.24" font-family="Times New Roman,serif" font-size="14.00"> &#160;addPluginDir()</text>
</g>
<!-- GMPInstallManager -->
<g id="node8" class="node"><title>GMPInstallManager</title>
<polygon fill="plum" stroke="black" points="2100.5,-1517.44 1919.5,-1517.44 1919.5,-1464.44 2100.5,-1464.44 2100.5,-1517.44"/>
<text text-anchor="middle" x="2010" y="-1502.24" font-family="Times New Roman,serif" font-size="14.00">GMPInstallManager</text>
<text text-anchor="middle" x="2010" y="-1487.24" font-family="Times New Roman,serif" font-size="14.00">JavaScript, Firefox front end,</text>
<text text-anchor="middle" x="2010" y="-1472.24" font-family="Times New Roman,serif" font-size="14.00">manages plugin install</text>
</g>
<!-- GMPInstallManager&#45;&gt;GMPProvider -->
<g id="edge8" class="edge"><title>GMPInstallManager&#45;&gt;GMPProvider</title>
<path fill="none" stroke="black" d="M2100.7,-1490.94C2109.12,-1490.94 2117.54,-1490.94 2125.95,-1490.94"/>
<polygon fill="black" stroke="black" points="2126.22,-1494.44 2136.22,-1490.94 2126.22,-1487.44 2126.22,-1494.44"/>
</g>
<!-- GMPDownloader -->
<g id="node9" class="node"><title>GMPDownloader</title>
<polygon fill="plum" stroke="black" points="1883.5,-1517.44 1702.5,-1517.44 1702.5,-1464.44 1883.5,-1464.44 1883.5,-1517.44"/>
<text text-anchor="middle" x="1793" y="-1502.24" font-family="Times New Roman,serif" font-size="14.00">GMPDownloader</text>
<text text-anchor="middle" x="1793" y="-1487.24" font-family="Times New Roman,serif" font-size="14.00">JavaScript, Firefox front end,</text>
<text text-anchor="middle" x="1793" y="-1472.24" font-family="Times New Roman,serif" font-size="14.00">manages plugin download</text>
</g>
<!-- GMPDownloader&#45;&gt;GMPInstallManager -->
<g id="edge7" class="edge"><title>GMPDownloader&#45;&gt;GMPInstallManager</title>
<path fill="none" stroke="black" d="M1883.7,-1490.94C1892.12,-1490.94 1900.54,-1490.94 1908.95,-1490.94"/>
<polygon fill="black" stroke="black" points="1909.22,-1494.44 1919.22,-1490.94 1909.22,-1487.44 1909.22,-1494.44"/>
</g>
<!-- GMPMemStorage&#45;&gt;GMPChild -->
<!-- ChromiumCDMParent -->
<g id="node37" class="node"><title>ChromiumCDMParent</title>
<ellipse fill="khaki" stroke="black" cx="592" cy="-703.637" rx="169.912" ry="37.4533"/>
<text text-anchor="middle" x="592" y="-714.937" font-family="Times New Roman,serif" font-size="14.00">ChromiumCDMParent</text>
<text text-anchor="middle" x="592" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">(extends GMPCrashHelperHolder,</text>
<text text-anchor="middle" x="592" y="-684.937" font-family="Times New Roman,serif" font-size="14.00">main actor to send commands to CDM)</text>
</g>
<!-- content_GMPContentParent&#45;&gt;ChromiumCDMParent -->
<g id="edge26" class="edge"><title>content_GMPContentParent&#45;&gt;ChromiumCDMParent</title>
<path fill="none" stroke="black" d="M1255.95,-844.82C1229.38,-835.828 1200.07,-826.149 1173,-817.72 1098.86,-794.635 1080.83,-786.462 1005,-769.72 920.547,-751.074 825.242,-735.686 747.481,-724.563"/>
<polygon fill="black" stroke="black" points="747.508,-721.031 737.115,-723.09 746.524,-727.962 747.508,-721.031"/>
</g>
<!-- GMPVideoDecoderParent -->
<g id="node47" class="node"><title>GMPVideoDecoderParent</title>
<ellipse fill="khaki" stroke="black" cx="1340" cy="-703.637" rx="106.681" ry="18"/>
<text text-anchor="middle" x="1340" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">GMPVideoDecoderParent</text>
</g>
<!-- content_GMPContentParent&#45;&gt;GMPVideoDecoderParent -->
<g id="edge49" class="edge"><title>content_GMPContentParent&#45;&gt;GMPVideoDecoderParent</title>
<path fill="none" stroke="black" d="M1343.14,-838.775C1342.39,-806.794 1341.32,-761.093 1340.64,-732.15"/>
<polygon fill="black" stroke="black" points="1344.14,-731.856 1340.41,-721.941 1337.14,-732.02 1344.14,-731.856"/>
</g>
<!-- GMPVideoEncoderParent -->
<g id="node48" class="node"><title>GMPVideoEncoderParent</title>
<ellipse fill="khaki" stroke="black" cx="1571" cy="-703.637" rx="106.681" ry="18"/>
<text text-anchor="middle" x="1571" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">GMPVideoEncoderParent</text>
</g>
<!-- content_GMPContentParent&#45;&gt;GMPVideoEncoderParent -->
<g id="edge50" class="edge"><title>content_GMPContentParent&#45;&gt;GMPVideoEncoderParent</title>
<path fill="none" stroke="black" d="M1390.48,-840.439C1435.34,-806.691 1501.96,-756.573 1540.48,-727.598"/>
<polygon fill="black" stroke="black" points="1542.83,-730.211 1548.71,-721.403 1538.62,-724.617 1542.83,-730.211"/>
</g>
<!-- GMPAdapter -->
<g id="node13" class="node"><title>GMPAdapter</title>
<ellipse fill="none" stroke="black" cx="2037" cy="-703.637" rx="86.9483" ry="37.4533"/>
<text text-anchor="middle" x="2037" y="-714.937" font-family="Times New Roman,serif" font-size="14.00">GMPAdapter</text>
<text text-anchor="middle" x="2037" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">Adapts Widevine</text>
<text text-anchor="middle" x="2037" y="-684.937" font-family="Times New Roman,serif" font-size="14.00">lib to GMP lib API</text>
</g>
<!-- GMPLoader -->
<g id="node21" class="node"><title>GMPLoader</title>
<ellipse fill="none" stroke="black" cx="2426" cy="-567.077" rx="56.59" ry="18"/>
<text text-anchor="middle" x="2426" y="-563.377" font-family="Times New Roman,serif" font-size="14.00">GMPLoader</text>
</g>
<!-- GMPAdapter&#45;&gt;GMPLoader -->
<g id="edge14" class="edge"><title>GMPAdapter&#45;&gt;GMPLoader</title>
<path fill="none" stroke="black" d="M2069.28,-668.835C2087.68,-651.836 2112.18,-632.729 2138,-622.553 2230.51,-586.09 2265.89,-633.554 2361,-604.553 2372.68,-600.992 2384.58,-595.1 2394.95,-589.08"/>
<polygon fill="black" stroke="black" points="2396.9,-591.993 2403.63,-583.812 2393.26,-586.01 2396.9,-591.993"/>
</g>
<!-- ChromiumCDMChild -->
<g id="node15" class="node"><title>ChromiumCDMChild</title>
<ellipse fill="khaki" stroke="black" cx="1803" cy="-567.077" rx="101.233" ry="26.7407"/>
<text text-anchor="middle" x="1803" y="-570.877" font-family="Times New Roman,serif" font-size="14.00">ChromiumCDMChild</text>
<text text-anchor="middle" x="1803" y="-555.877" font-family="Times New Roman,serif" font-size="14.00">Implements cdm::Host</text>
</g>
<!-- cdm -->
<g id="node22" class="node"><title>cdm</title>
<ellipse fill="none" stroke="black" cx="1979" cy="-441.123" rx="128.077" ry="18"/>
<text text-anchor="middle" x="1979" y="-437.423" font-family="Times New Roman,serif" font-size="14.00">cdm::ContentDecryptionModule</text>
</g>
<!-- ChromiumCDMChild&#45;&gt;cdm -->
<g id="edge23" class="edge"><title>ChromiumCDMChild&#45;&gt;cdm</title>
<path fill="none" stroke="black" d="M1846.23,-535.634C1877.38,-513.692 1918.74,-484.562 1946.97,-464.682"/>
<polygon fill="black" stroke="black" points="1843.93,-532.968 1837.77,-541.588 1847.96,-538.691 1843.93,-532.968"/>
<polygon fill="black" stroke="black" points="1949.12,-467.447 1955.28,-458.827 1945.09,-461.724 1949.12,-467.447"/>
</g>
<!-- GMPChild&#45;&gt;GMPAdapter -->
<g id="edge13" class="edge"><title>GMPChild&#45;&gt;GMPAdapter</title>
<path fill="none" stroke="black" d="M2270.01,-863.422C2234.97,-850.551 2180.31,-828.072 2138,-799.72 2115.42,-784.588 2093.11,-764.314 2075.23,-746.376"/>
<polygon fill="black" stroke="black" points="2077.36,-743.54 2067.85,-738.852 2072.36,-748.442 2077.36,-743.54"/>
</g>
<!-- GMPChild&#45;&gt;GMPStorageChild -->
<g id="edge19" class="edge"><title>GMPChild&#45;&gt;GMPStorageChild</title>
<path fill="none" stroke="black" d="M2309.57,-858.134C2315.72,-836.518 2327.89,-798.806 2345,-769.72 2349.68,-761.76 2355.35,-753.813 2361.25,-746.345"/>
<polygon fill="black" stroke="black" points="2364.08,-748.41 2367.7,-738.452 2358.66,-743.98 2364.08,-748.41"/>
</g>
<!-- GMPChild&#45;&gt;GMPTimerChild -->
<g id="edge18" class="edge"><title>GMPChild&#45;&gt;GMPTimerChild</title>
<path fill="none" stroke="black" d="M2328.87,-860.255C2376.74,-829.866 2484.59,-761.397 2539.89,-726.29"/>
<polygon fill="black" stroke="black" points="2542.05,-729.064 2548.62,-720.749 2538.3,-723.154 2542.05,-729.064"/>
</g>
<!-- GMPContentChild -->
<g id="node20" class="node"><title>GMPContentChild</title>
<ellipse fill="khaki" stroke="black" cx="1817" cy="-703.637" rx="115.017" ry="48.1667"/>
<text text-anchor="middle" x="1817" y="-722.437" font-family="Times New Roman,serif" font-size="14.00">GMPContentChild</text>
<text text-anchor="middle" x="1817" y="-707.437" font-family="Times New Roman,serif" font-size="14.00">(holds child actors</text>
<text text-anchor="middle" x="1817" y="-692.437" font-family="Times New Roman,serif" font-size="14.00"> of active protocols which</text>
<text text-anchor="middle" x="1817" y="-677.437" font-family="Times New Roman,serif" font-size="14.00">talk to content process</text>
</g>
<!-- GMPChild&#45;&gt;GMPContentChild -->
<g id="edge17" class="edge"><title>GMPChild&#45;&gt;GMPContentChild</title>
<path fill="none" stroke="black" d="M2269.2,-863.712C2203.79,-842.231 2060.64,-794.747 1941,-751.72 1930.96,-748.11 1920.5,-744.265 1910.09,-740.389"/>
<polygon fill="black" stroke="black" points="1911.15,-737.05 1900.56,-736.825 1908.7,-743.606 1911.15,-737.05"/>
</g>
<!-- GMPChild&#45;&gt;GMPLoader -->
<g id="edge12" class="edge"><title>GMPChild&#45;&gt;GMPLoader</title>
<path fill="none" stroke="black" d="M2275.71,-861.761C2239.16,-842.893 2178.35,-805.028 2153,-751.72 2134.65,-713.121 2126.62,-689.182 2153,-655.553 2211.75,-580.663 2272.46,-639.497 2361,-604.553 2371.87,-600.261 2383.17,-594.456 2393.23,-588.74"/>
<polygon fill="black" stroke="black" points="2395.22,-591.633 2402.08,-583.561 2391.68,-585.591 2395.22,-591.633"/>
</g>
<!-- GMPVideoDecoderChild -->
<g id="node18" class="node"><title>GMPVideoDecoderChild</title>
<ellipse fill="khaki" stroke="black" cx="2025" cy="-567.077" rx="103.182" ry="18"/>
<text text-anchor="middle" x="2025" y="-563.377" font-family="Times New Roman,serif" font-size="14.00">GMPVideoDecoderChild</text>
</g>
<!-- GMPVideoEncoderChild -->
<g id="node19" class="node"><title>GMPVideoEncoderChild</title>
<ellipse fill="khaki" stroke="black" cx="2249" cy="-567.077" rx="102.882" ry="18"/>
<text text-anchor="middle" x="2249" y="-563.377" font-family="Times New Roman,serif" font-size="14.00">GMPVideoEncoderChild</text>
</g>
<!-- GMPContentChild&#45;&gt;content_GMPContentParent -->
<g id="edge66" class="edge"><title>GMPContentChild&#45;&gt;content_GMPContentParent</title>
<path fill="none" stroke="black" d="M1722.43,-739.837C1711.5,-743.863 1700.51,-747.893 1690,-751.72 1605.84,-782.361 1509.93,-816.596 1440.46,-841.266"/>
<polygon fill="black" stroke="black" points="1723.83,-743.05 1732,-736.305 1721.41,-736.483 1723.83,-743.05"/>
<polygon fill="black" stroke="black" points="1439.09,-838.038 1430.84,-844.683 1441.43,-844.635 1439.09,-838.038"/>
</g>
<!-- GMPContentChild&#45;&gt;ChromiumCDMChild -->
<g id="edge20" class="edge"><title>GMPContentChild&#45;&gt;ChromiumCDMChild</title>
<path fill="none" stroke="black" d="M1812.1,-655.574C1810.36,-638.825 1808.43,-620.233 1806.79,-604.51"/>
<polygon fill="black" stroke="black" points="1810.23,-603.725 1805.71,-594.141 1803.27,-604.449 1810.23,-603.725"/>
</g>
<!-- GMPContentChild&#45;&gt;GMPVideoDecoderChild -->
<g id="edge21" class="edge"><title>GMPContentChild&#45;&gt;GMPVideoDecoderChild</title>
<path fill="none" stroke="black" d="M1878.56,-662.81C1915.31,-639.04 1960.58,-609.752 1990.98,-590.087"/>
<polygon fill="black" stroke="black" points="1993.03,-592.93 1999.52,-584.56 1989.22,-587.053 1993.03,-592.93"/>
</g>
<!-- GMPContentChild&#45;&gt;GMPVideoEncoderChild -->
<g id="edge22" class="edge"><title>GMPContentChild&#45;&gt;GMPVideoEncoderChild</title>
<path fill="none" stroke="black" d="M1899.6,-669.851C1913.34,-664.809 1927.51,-659.856 1941,-655.553 2026.76,-628.204 2050.61,-629.835 2137,-604.553 2155.88,-599.027 2176.39,-592.503 2194.64,-586.511"/>
<polygon fill="black" stroke="black" points="2195.83,-589.801 2204.23,-583.341 2193.64,-583.155 2195.83,-589.801"/>
</g>
<!-- GMPLoader&#45;&gt;cdm -->
<g id="edge15" class="edge"><title>GMPLoader&#45;&gt;cdm</title>
<path fill="none" stroke="black" d="M2402.42,-550.681C2390.42,-543.415 2375.37,-535.143 2361,-529.6 2266.8,-493.253 2153.45,-469.65 2074.8,-456.23"/>
<polygon fill="black" stroke="black" points="2075.34,-452.773 2064.9,-454.564 2074.18,-459.676 2075.34,-452.773"/>
<text text-anchor="middle" x="2367.5" y="-500.4" font-family="Times New Roman,serif" font-size="14.00">Loads via GMPAdapter</text>
</g>
<!-- SandboxStarter -->
<g id="node23" class="node"><title>SandboxStarter</title>
<ellipse fill="none" stroke="black" cx="2230" cy="-703.637" rx="67.6881" ry="18"/>
<text text-anchor="middle" x="2230" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">SandboxStarter</text>
</g>
<!-- SandboxStarter&#45;&gt;GMPLoader -->
<g id="edge16" class="edge"><title>SandboxStarter&#45;&gt;GMPLoader</title>
<path fill="none" stroke="black" d="M2253.25,-686.672C2288.51,-662.467 2355.55,-616.443 2394.94,-589.398"/>
<polygon fill="black" stroke="black" points="2397.12,-592.15 2403.38,-583.605 2393.16,-586.379 2397.12,-592.15"/>
</g>
<!-- GeckoMediaPluginServiceChild -->
<g id="node25" class="node"><title>GeckoMediaPluginServiceChild</title>
<ellipse fill="none" stroke="black" cx="1344" cy="-1023.58" rx="155.627" ry="26.7407"/>
<text text-anchor="middle" x="1344" y="-1027.38" font-family="Times New Roman,serif" font-size="14.00">GeckoMediaPluginServiceChild</text>
<text text-anchor="middle" x="1344" y="-1012.38" font-family="Times New Roman,serif" font-size="14.00">(extends GeckoMediaPluginService)</text>
</g>
<!-- GeckoMediaPluginServiceChild&#45;&gt;content_GMPContentParent -->
<g id="edge25" class="edge"><title>GeckoMediaPluginServiceChild&#45;&gt;content_GMPContentParent</title>
<path fill="none" stroke="black" d="M1344,-996.623C1344,-976.59 1344,-948.338 1344,-924.365"/>
<polygon fill="black" stroke="black" points="1347.5,-924.044 1344,-914.044 1340.5,-924.044 1347.5,-924.044"/>
</g>
<!-- GeckoMediaPluginServiceChild&#45;&gt;GMPServiceChild -->
<g id="edge24" class="edge"><title>GeckoMediaPluginServiceChild&#45;&gt;GMPServiceChild</title>
<path fill="none" stroke="black" d="M1395,-998.171C1429.18,-981.367 1474.92,-958.019 1514,-935.1 1532.73,-924.115 1552.99,-910.776 1569.23,-899.693"/>
<polygon fill="black" stroke="black" points="1571.56,-902.345 1577.81,-893.796 1567.59,-896.576 1571.56,-902.345"/>
</g>
<!-- MediaKeysGMPCrashHelper -->
<g id="node36" class="node"><title>MediaKeysGMPCrashHelper</title>
<ellipse fill="none" stroke="black" cx="897" cy="-567.077" rx="132.872" ry="37.4533"/>
<text text-anchor="middle" x="897" y="-578.377" font-family="Times New Roman,serif" font-size="14.00">MediaKeysGMPCrashHelper</text>
<text text-anchor="middle" x="897" y="-563.377" font-family="Times New Roman,serif" font-size="14.00">(accesses WindowID so crash</text>
<text text-anchor="middle" x="897" y="-548.377" font-family="Times New Roman,serif" font-size="14.00">report goes to correct tab)</text>
</g>
<!-- GeckoMediaPluginServiceChild&#45;&gt;MediaKeysGMPCrashHelper -->
<g id="edge42" class="edge"><title>GeckoMediaPluginServiceChild&#45;&gt;MediaKeysGMPCrashHelper</title>
<path fill="none" stroke="black" d="M1195.43,-1015.45C1071.96,-1006.05 910.08,-984.435 869,-935.1 835.618,-895.009 847.201,-865.116 869,-817.72 874.137,-806.552 884.695,-810.809 890,-799.72 918.204,-740.76 913.433,-663.354 906.179,-614.652"/>
<polygon fill="black" stroke="black" points="909.626,-614.042 904.604,-604.712 902.712,-615.137 909.626,-614.042"/>
<text text-anchor="middle" x="945.5" y="-788.52" font-family="Times New Roman,serif" font-size="14.00">On crash,</text>
<text text-anchor="middle" x="945.5" y="-773.52" font-family="Times New Roman,serif" font-size="14.00">gets WindowID</text>
</g>
<!-- WebRTC -->
<g id="node26" class="node"><title>WebRTC</title>
<polygon fill="lightblue" stroke="black" points="1486,-459.123 1414,-459.123 1414,-423.123 1486,-423.123 1486,-459.123"/>
<text text-anchor="middle" x="1450" y="-437.423" font-family="Times New Roman,serif" font-size="14.00">WebRTC</text>
</g>
<!-- ChromiumCDMProxy -->
<g id="node27" class="node"><title>ChromiumCDMProxy</title>
<ellipse fill="none" stroke="black" cx="512" cy="-295.777" rx="109.703" ry="26.7407"/>
<text text-anchor="middle" x="512" y="-299.577" font-family="Times New Roman,serif" font-size="14.00">ChromiumCDMProxy</text>
<text text-anchor="middle" x="512" y="-284.577" font-family="Times New Roman,serif" font-size="14.00">(proxies to GMP thread)</text>
</g>
<!-- CDMCaps -->
<g id="node29" class="node"><title>CDMCaps</title>
<ellipse fill="none" stroke="black" cx="499" cy="-205.037" rx="93.1765" ry="26.7407"/>
<text text-anchor="middle" x="499" y="-208.837" font-family="Times New Roman,serif" font-size="14.00">CDMCaps</text>
<text text-anchor="middle" x="499" y="-193.837" font-family="Times New Roman,serif" font-size="14.00">(stores key usability)</text>
</g>
<!-- ChromiumCDMProxy&#45;&gt;CDMCaps -->
<g id="edge31" class="edge"><title>ChromiumCDMProxy&#45;&gt;CDMCaps</title>
<path fill="none" stroke="black" d="M508.17,-268.632C506.953,-260.327 505.586,-250.991 504.285,-242.115"/>
<polygon fill="black" stroke="black" points="507.715,-241.382 502.803,-231.995 500.789,-242.396 507.715,-241.382"/>
</g>
<!-- MediaKeys -->
<g id="node33" class="node"><title>MediaKeys</title>
<polygon fill="yellow" stroke="black" points="776.5,-460.123 665.5,-460.123 665.5,-422.123 776.5,-422.123 776.5,-460.123"/>
<text text-anchor="middle" x="721" y="-444.923" font-family="Times New Roman,serif" font-size="14.00">MediaKeys</text>
<text text-anchor="middle" x="721" y="-429.923" font-family="Times New Roman,serif" font-size="14.00">WebIDL binding</text>
</g>
<!-- ChromiumCDMProxy&#45;&gt;MediaKeys -->
<g id="edge29" class="edge"><title>ChromiumCDMProxy&#45;&gt;MediaKeys</title>
<path fill="none" stroke="black" d="M560.061,-320.173C569.872,-326.107 579.717,-332.999 588,-340.647 605.844,-357.122 600.887,-369.468 619,-385.647 633.149,-398.285 650.751,-409.016 667.329,-417.525"/>
<polygon fill="black" stroke="black" points="665.891,-420.719 676.405,-422.022 668.999,-414.447 665.891,-420.719"/>
<text text-anchor="middle" x="668" y="-374.447" font-family="Times New Roman,serif" font-size="14.00">Proxies callbacks</text>
<text text-anchor="middle" x="668" y="-359.447" font-family="Times New Roman,serif" font-size="14.00">to main thread</text>
<text text-anchor="middle" x="668" y="-344.447" font-family="Times New Roman,serif" font-size="14.00">via weak ref</text>
</g>
<!-- ChromiumCDMProxy&#45;&gt;ChromiumCDMParent -->
<g id="edge30" class="edge"><title>ChromiumCDMProxy&#45;&gt;ChromiumCDMParent</title>
<path fill="none" stroke="black" d="M495.77,-322.717C463.554,-377.81 398.8,-509.247 449,-604.553 462.183,-629.581 484.952,-649.45 508.496,-664.575"/>
<polygon fill="black" stroke="black" points="506.839,-667.665 517.189,-669.934 510.513,-661.707 506.839,-667.665"/>
</g>
<!-- ChromiumCDMCallbackProxy -->
<g id="node28" class="node"><title>ChromiumCDMCallbackProxy</title>
<ellipse fill="none" stroke="black" cx="592" cy="-567.077" rx="134.201" ry="26.7407"/>
<text text-anchor="middle" x="592" y="-570.877" font-family="Times New Roman,serif" font-size="14.00">ChromiumCDMCallbackProxy</text>
<text text-anchor="middle" x="592" y="-555.877" font-family="Times New Roman,serif" font-size="14.00">(proxies to GMP thread)</text>
</g>
<!-- ChromiumCDMCallbackProxy&#45;&gt;MediaKeys -->
<g id="edge28" class="edge"><title>ChromiumCDMCallbackProxy&#45;&gt;MediaKeys</title>
<path fill="none" stroke="black" d="M618.416,-540.694C640.703,-519.279 672.442,-488.782 694.697,-467.398"/>
<polygon fill="black" stroke="black" points="697.356,-469.696 702.142,-460.244 692.506,-464.649 697.356,-469.696"/>
</g>
<!-- SamplesWaitingForKeys -->
<g id="node30" class="node"><title>SamplesWaitingForKeys</title>
<ellipse fill="none" stroke="black" cx="383" cy="-64.0833" rx="111.032" ry="48.1667"/>
<text text-anchor="middle" x="383" y="-82.8833" font-family="Times New Roman,serif" font-size="14.00">SamplesWaitingForKeys</text>
<text text-anchor="middle" x="383" y="-67.8833" font-family="Times New Roman,serif" font-size="14.00">(ensures samples have all</text>
<text text-anchor="middle" x="383" y="-52.8833" font-family="Times New Roman,serif" font-size="14.00">keys required to decrypt</text>
<text text-anchor="middle" x="383" y="-37.8833" font-family="Times New Roman,serif" font-size="14.00">before sending to CDM)</text>
</g>
<!-- CDMCaps&#45;&gt;SamplesWaitingForKeys -->
<g id="edge59" class="edge"><title>CDMCaps&#45;&gt;SamplesWaitingForKeys</title>
<path fill="none" stroke="black" d="M470.997,-170.493C457.749,-154.623 441.619,-135.301 426.805,-117.557"/>
<polygon fill="black" stroke="black" points="468.628,-173.117 477.724,-178.55 474.002,-168.631 468.628,-173.117"/>
<polygon fill="black" stroke="black" points="429.202,-114.966 420.107,-109.533 423.829,-119.452 429.202,-114.966"/>
<text text-anchor="middle" x="526" y="-148.967" font-family="Times New Roman,serif" font-size="14.00">Ensures keys usable</text>
<text text-anchor="middle" x="526" y="-133.967" font-family="Times New Roman,serif" font-size="14.00">before decrypt/decode</text>
</g>
<!-- ChromiumCDMVideoDecoder -->
<g id="node31" class="node"><title>ChromiumCDMVideoDecoder</title>
<ellipse fill="none" stroke="black" cx="150" cy="-876.41" rx="133.787" ry="37.4533"/>
<text text-anchor="middle" x="150" y="-887.71" font-family="Times New Roman,serif" font-size="14.00">ChromiumCDMVideoDecoder</text>
<text text-anchor="middle" x="150" y="-872.71" font-family="Times New Roman,serif" font-size="14.00">(extends MediaDataDecoder,</text>
<text text-anchor="middle" x="150" y="-857.71" font-family="Times New Roman,serif" font-size="14.00">decrypts &amp; decodes samples)</text>
</g>
<!-- ChromiumCDMVideoDecoder&#45;&gt;SamplesWaitingForKeys -->
<g id="edge35" class="edge"><title>ChromiumCDMVideoDecoder&#45;&gt;SamplesWaitingForKeys</title>
<path fill="none" stroke="black" d="M111.673,-840.403C80.9703,-808.38 43,-757.992 43,-704.637 43,-704.637 43,-704.637 43,-204.037 43,-153.356 174.086,-112.04 273.469,-87.9987"/>
<polygon fill="black" stroke="black" points="274.372,-91.3815 283.286,-85.6548 272.747,-84.5729 274.372,-91.3815"/>
</g>
<!-- ChromiumCDMVideoDecoder&#45;&gt;ChromiumCDMParent -->
<g id="edge32" class="edge"><title>ChromiumCDMVideoDecoder&#45;&gt;ChromiumCDMParent</title>
<path fill="none" stroke="black" d="M224.097,-845.159C246.223,-836.223 270.559,-826.489 293,-817.72 361.185,-791.076 438.487,-761.866 497.407,-739.809"/>
<polygon fill="black" stroke="black" points="498.932,-742.975 507.072,-736.193 496.479,-736.419 498.932,-742.975"/>
</g>
<!-- MediaFormatReader -->
<g id="node42" class="node"><title>MediaFormatReader</title>
<ellipse fill="none" stroke="black" cx="230" cy="-703.637" rx="125.73" ry="26.7407"/>
<text text-anchor="middle" x="230" y="-707.437" font-family="Times New Roman,serif" font-size="14.00">MediaFormatReader</text>
<text text-anchor="middle" x="230" y="-692.437" font-family="Times New Roman,serif" font-size="14.00">(runs demuxers &amp; decoders)</text>
</g>
<!-- ChromiumCDMVideoDecoder&#45;&gt;MediaFormatReader -->
<g id="edge36" class="edge"><title>ChromiumCDMVideoDecoder&#45;&gt;MediaFormatReader</title>
<path fill="none" stroke="black" d="M166.966,-839.193C180.688,-809.901 199.896,-768.898 213.494,-739.872"/>
<polygon fill="black" stroke="black" points="216.801,-741.062 217.874,-730.521 210.462,-738.092 216.801,-741.062"/>
</g>
<!-- EMEDecryptor -->
<g id="node32" class="node"><title>EMEDecryptor</title>
<ellipse fill="none" stroke="black" cx="693" cy="-876.41" rx="126.644" ry="58.8803"/>
<text text-anchor="middle" x="693" y="-902.71" font-family="Times New Roman,serif" font-size="14.00">EMEDecryptor</text>
<text text-anchor="middle" x="693" y="-887.71" font-family="Times New Roman,serif" font-size="14.00">(extends MediaDataDecoder,</text>
<text text-anchor="middle" x="693" y="-872.71" font-family="Times New Roman,serif" font-size="14.00">decrypts via CDM,</text>
<text text-anchor="middle" x="693" y="-857.71" font-family="Times New Roman,serif" font-size="14.00">decodes via wrapped</text>
<text text-anchor="middle" x="693" y="-842.71" font-family="Times New Roman,serif" font-size="14.00">platform decoder)</text>
</g>
<!-- EMEDecryptor&#45;&gt;SamplesWaitingForKeys -->
<g id="edge37" class="edge"><title>EMEDecryptor&#45;&gt;SamplesWaitingForKeys</title>
<path fill="none" stroke="black" d="M604.5,-834.249C588.905,-828.044 572.651,-822.225 557,-817.72 477.917,-794.956 420.097,-825.675 384,-751.72 359.961,-702.469 383,-559.905 383,-505.1 383,-505.1 383,-505.1 383,-204.037 383,-177.215 383,-147.482 383,-122.425"/>
<polygon fill="black" stroke="black" points="386.5,-122.354 383,-112.354 379.5,-122.354 386.5,-122.354"/>
</g>
<!-- EMEDecryptor&#45;&gt;ChromiumCDMParent -->
<g id="edge33" class="edge"><title>EMEDecryptor&#45;&gt;ChromiumCDMParent</title>
<path fill="none" stroke="black" d="M659.929,-819.492C646.589,-796.937 631.399,-771.254 618.772,-749.903"/>
<polygon fill="black" stroke="black" points="621.633,-747.865 613.53,-741.039 615.608,-751.428 621.633,-747.865"/>
<text text-anchor="middle" x="672" y="-781.02" font-family="Times New Roman,serif" font-size="14.00">Decrypts</text>
</g>
<!-- EMEDecryptor&#45;&gt;MediaFormatReader -->
<g id="edge34" class="edge"><title>EMEDecryptor&#45;&gt;MediaFormatReader</title>
<path fill="none" stroke="black" d="M605.459,-833.721C589.616,-827.496 573.03,-821.806 557,-817.72 477.807,-797.531 451.025,-827.037 374,-799.72 334.039,-785.548 294.25,-757.984 266.657,-736.168"/>
<polygon fill="black" stroke="black" points="268.84,-733.432 258.854,-729.894 264.454,-738.887 268.84,-733.432"/>
</g>
<!-- MediaKeys&#45;&gt;ChromiumCDMProxy -->
<g id="edge39" class="edge"><title>MediaKeys&#45;&gt;ChromiumCDMProxy</title>
<path fill="none" stroke="black" d="M665.457,-437.105C625.292,-432.026 572.419,-418.929 539,-385.647 524.99,-371.694 518.207,-350.72 514.941,-332.65"/>
<polygon fill="black" stroke="black" points="518.392,-332.06 513.431,-322.699 511.471,-333.111 518.392,-332.06"/>
<text text-anchor="middle" x="561.5" y="-374.447" font-family="Times New Roman,serif" font-size="14.00">Initiates</text>
<text text-anchor="middle" x="561.5" y="-359.447" font-family="Times New Roman,serif" font-size="14.00">CDM</text>
<text text-anchor="middle" x="561.5" y="-344.447" font-family="Times New Roman,serif" font-size="14.00">creation</text>
</g>
<!-- MediaKeySession -->
<g id="node34" class="node"><title>MediaKeySession</title>
<polygon fill="yellow" stroke="black" points="779.5,-314.777 662.5,-314.777 662.5,-276.777 779.5,-276.777 779.5,-314.777"/>
<text text-anchor="middle" x="721" y="-299.577" font-family="Times New Roman,serif" font-size="14.00">MediaKeySession</text>
<text text-anchor="middle" x="721" y="-284.577" font-family="Times New Roman,serif" font-size="14.00">WebIDL binding</text>
</g>
<!-- MediaKeys&#45;&gt;MediaKeySession -->
<g id="edge38" class="edge"><title>MediaKeys&#45;&gt;MediaKeySession</title>
<path fill="none" stroke="black" d="M721,-421.968C721,-397.519 721,-353.764 721,-325.002"/>
<polygon fill="black" stroke="black" points="724.5,-324.784 721,-314.784 717.5,-324.784 724.5,-324.784"/>
</g>
<!-- HTMLMediaElement -->
<g id="node35" class="node"><title>HTMLMediaElement</title>
<polygon fill="yellow" stroke="black" points="699,-1168.53 565,-1168.53 565,-1130.53 699,-1130.53 699,-1168.53"/>
<text text-anchor="middle" x="632" y="-1153.33" font-family="Times New Roman,serif" font-size="14.00">HTMLMediaElement</text>
<text text-anchor="middle" x="632" y="-1138.33" font-family="Times New Roman,serif" font-size="14.00">WebIDL binding</text>
</g>
<!-- HTMLMediaElement&#45;&gt;MediaKeys -->
<g id="edge43" class="edge"><title>HTMLMediaElement&#45;&gt;MediaKeys</title>
<path fill="none" stroke="black" d="M658.647,-1130.3C703.939,-1097.5 794.389,-1023.63 829,-935.1 838.498,-910.806 844.066,-839.014 829,-817.72 815.117,-798.098 792.355,-819 778,-799.72 768.422,-786.857 773.812,-671.342 771,-655.553 766.834,-632.165 760.996,-627.54 755,-604.553 742.848,-557.967 732.073,-502.988 726.056,-470.424"/>
<polygon fill="black" stroke="black" points="729.443,-469.492 724.202,-460.285 722.557,-470.751 729.443,-469.492"/>
<text text-anchor="middle" x="832" y="-781.02" font-family="Times New Roman,serif" font-size="14.00">via setMediaKeys()</text>
</g>
<!-- MediaDecoder -->
<g id="node39" class="node"><title>MediaDecoder</title>
<ellipse fill="none" stroke="black" cx="503" cy="-1023.58" rx="115.931" ry="37.4533"/>
<text text-anchor="middle" x="503" y="-1034.88" font-family="Times New Roman,serif" font-size="14.00">MediaDecoder</text>
<text text-anchor="middle" x="503" y="-1019.88" font-family="Times New Roman,serif" font-size="14.00">(Facade, controls lifecycle</text>
<text text-anchor="middle" x="503" y="-1004.88" font-family="Times New Roman,serif" font-size="14.00">for playback pipeline)</text>
</g>
<!-- HTMLMediaElement&#45;&gt;MediaDecoder -->
<g id="edge60" class="edge"><title>HTMLMediaElement&#45;&gt;MediaDecoder</title>
<path fill="none" stroke="black" d="M606,-1123.55C588.962,-1107.18 566.273,-1085.37 546.527,-1066.4"/>
<polygon fill="black" stroke="black" points="603.607,-1126.1 613.242,-1130.51 608.457,-1121.05 603.607,-1126.1"/>
<polygon fill="black" stroke="black" points="548.756,-1063.69 539.121,-1059.28 543.906,-1068.74 548.756,-1063.69"/>
</g>
<!-- MediaKeysGMPCrashHelper&#45;&gt;MediaKeys -->
<g id="edge40" class="edge"><title>MediaKeysGMPCrashHelper&#45;&gt;MediaKeys</title>
<path fill="none" stroke="black" d="M848.441,-531.878C818.694,-510.928 781.366,-484.638 754.814,-465.938"/>
<polygon fill="black" stroke="black" points="756.786,-463.046 746.595,-460.149 752.755,-468.769 756.786,-463.046"/>
</g>
<!-- ChromiumCDMParent&#45;&gt;ChromiumCDMChild -->
<g id="edge65" class="edge"><title>ChromiumCDMParent&#45;&gt;ChromiumCDMChild</title>
<path fill="none" stroke="black" d="M740.404,-680.412C802.308,-671.715 875.026,-662.242 941,-655.553 1272.96,-621.897 1362.35,-667.605 1690,-604.553 1705.28,-601.613 1721.37,-597.237 1736.46,-592.526"/>
<polygon fill="black" stroke="black" points="739.582,-676.993 730.169,-681.857 740.56,-683.925 739.582,-676.993"/>
<polygon fill="black" stroke="black" points="1737.77,-595.783 1746.22,-589.394 1735.63,-589.118 1737.77,-595.783"/>
<text text-anchor="middle" x="1632" y="-626.353" font-family="Times New Roman,serif" font-size="14.00">PChromiumCDM</text>
</g>
<!-- ChromiumCDMParent&#45;&gt;ChromiumCDMCallbackProxy -->
<g id="edge27" class="edge"><title>ChromiumCDMParent&#45;&gt;ChromiumCDMCallbackProxy</title>
<path fill="none" stroke="black" d="M592,-665.868C592,-646.696 592,-623.331 592,-604.248"/>
<polygon fill="black" stroke="black" points="595.5,-604.141 592,-594.141 588.5,-604.141 595.5,-604.141"/>
</g>
<!-- ChromiumCDMParent&#45;&gt;MediaKeysGMPCrashHelper -->
<g id="edge41" class="edge"><title>ChromiumCDMParent&#45;&gt;MediaKeysGMPCrashHelper</title>
<path fill="none" stroke="black" d="M666.221,-669.892C712.095,-649.653 770.933,-623.695 817.717,-603.055"/>
<polygon fill="black" stroke="black" points="819.17,-606.239 826.906,-599.001 816.344,-599.835 819.17,-606.239"/>
</g>
<!-- EMEDecoderModule -->
<g id="node38" class="node"><title>EMEDecoderModule</title>
<ellipse fill="none" stroke="black" cx="227" cy="-441.123" rx="137.358" ry="37.4533"/>
<text text-anchor="middle" x="227" y="-452.423" font-family="Times New Roman,serif" font-size="14.00">EMEDecoderModule</text>
<text text-anchor="middle" x="227" y="-437.423" font-family="Times New Roman,serif" font-size="14.00">(passes ChromiumCDMProxy</text>
<text text-anchor="middle" x="227" y="-422.423" font-family="Times New Roman,serif" font-size="14.00">to new decryptors &amp; decoders)</text>
</g>
<!-- EMEDecoderModule&#45;&gt;ChromiumCDMProxy -->
<g id="edge46" class="edge"><title>EMEDecoderModule&#45;&gt;ChromiumCDMProxy</title>
<path fill="none" stroke="black" d="M290.96,-407.954C340.656,-382.958 408.886,-348.64 456.344,-324.77"/>
<polygon fill="black" stroke="black" points="458.186,-327.761 465.547,-320.141 455.041,-321.508 458.186,-327.761"/>
</g>
<!-- EMEDecoderModule&#45;&gt;ChromiumCDMVideoDecoder -->
<g id="edge45" class="edge"><title>EMEDecoderModule&#45;&gt;ChromiumCDMVideoDecoder</title>
<path fill="none" stroke="black" d="M144.117,-471.067C117.928,-484.584 91.9412,-503.59 77,-529.6 21.2045,-626.729 82.106,-761.181 121.644,-830.335"/>
<polygon fill="black" stroke="black" points="118.774,-832.361 126.828,-839.245 124.824,-828.841 118.774,-832.361"/>
<text text-anchor="middle" x="76" y="-626.353" font-family="Times New Roman,serif" font-size="14.00">creates</text>
</g>
<!-- EMEDecoderModule&#45;&gt;EMEDecryptor -->
<g id="edge44" class="edge"><title>EMEDecoderModule&#45;&gt;EMEDecryptor</title>
<path fill="none" stroke="black" d="M303.718,-472.288C329.471,-486.065 355.952,-504.925 373,-529.6 430.017,-612.127 350.986,-672.879 413,-751.72 416.093,-755.652 512.482,-797.778 591.308,-831.792"/>
<polygon fill="black" stroke="black" points="590.258,-835.15 600.826,-835.896 593.03,-828.722 590.258,-835.15"/>
<text text-anchor="middle" x="414" y="-626.353" font-family="Times New Roman,serif" font-size="14.00">creates</text>
</g>
<!-- MediaDecoderStateMachine -->
<g id="node41" class="node"><title>MediaDecoderStateMachine</title>
<ellipse fill="none" stroke="black" cx="425" cy="-876.41" rx="123.073" ry="26.7407"/>
<text text-anchor="middle" x="425" y="-880.21" font-family="Times New Roman,serif" font-size="14.00">MediaDecoderStateMachine</text>
<text text-anchor="middle" x="425" y="-865.21" font-family="Times New Roman,serif" font-size="14.00">(manages state of pipeline)</text>
</g>
<!-- MediaDecoder&#45;&gt;MediaDecoderStateMachine -->
<g id="edge61" class="edge"><title>MediaDecoder&#45;&gt;MediaDecoderStateMachine</title>
<path fill="none" stroke="black" d="M478.639,-977.238C467.33,-956.19 454.099,-931.566 443.608,-912.041"/>
<polygon fill="black" stroke="black" points="475.702,-979.167 483.519,-986.319 481.868,-975.854 475.702,-979.167"/>
<polygon fill="black" stroke="black" points="446.664,-910.335 438.848,-903.182 440.498,-913.648 446.664,-910.335"/>
</g>
<!-- PDMFactory -->
<g id="node40" class="node"><title>PDMFactory</title>
<ellipse fill="none" stroke="black" cx="225" cy="-567.077" rx="138.686" ry="26.7407"/>
<text text-anchor="middle" x="225" y="-570.877" font-family="Times New Roman,serif" font-size="14.00">PDMFactory</text>
<text text-anchor="middle" x="225" y="-555.877" font-family="Times New Roman,serif" font-size="14.00">(Creates decoders using PDMs)</text>
</g>
<!-- PDMFactory&#45;&gt;EMEDecoderModule -->
<g id="edge48" class="edge"><title>PDMFactory&#45;&gt;EMEDecoderModule</title>
<path fill="none" stroke="black" d="M225.419,-540.092C225.656,-525.395 225.96,-506.565 226.238,-489.348"/>
<polygon fill="black" stroke="black" points="229.745,-488.943 226.407,-478.888 222.746,-488.83 229.745,-488.943"/>
</g>
<!-- MediaDecoderStateMachine&#45;&gt;MediaFormatReader -->
<g id="edge62" class="edge"><title>MediaDecoderStateMachine&#45;&gt;MediaFormatReader</title>
<path fill="none" stroke="black" d="M368.284,-846.429C346.308,-833.738 321.742,-817.644 302,-799.72 282.457,-781.977 264.524,-758.328 251.444,-739.054"/>
<polygon fill="black" stroke="black" points="366.773,-849.596 377.2,-851.477 370.222,-843.505 366.773,-849.596"/>
<polygon fill="black" stroke="black" points="254.237,-736.934 245.787,-730.543 248.407,-740.809 254.237,-736.934"/>
</g>
<!-- MediaFormatReader&#45;&gt;PDMFactory -->
<g id="edge47" class="edge"><title>MediaFormatReader&#45;&gt;PDMFactory</title>
<path fill="none" stroke="black" d="M229.036,-676.692C228.273,-656.162 227.199,-627.247 226.35,-604.412"/>
<polygon fill="black" stroke="black" points="229.847,-604.264 225.978,-594.401 222.852,-604.524 229.847,-604.264"/>
</g>
<!-- Navigator -->
<g id="node43" class="node"><title>Navigator</title>
<polygon fill="yellow" stroke="black" points="1164.5,-895.41 1049.5,-895.41 1049.5,-857.41 1164.5,-857.41 1164.5,-895.41"/>
<text text-anchor="middle" x="1107" y="-880.21" font-family="Times New Roman,serif" font-size="14.00">Navigator</text>
<text text-anchor="middle" x="1107" y="-865.21" font-family="Times New Roman,serif" font-size="14.00">WebIDL binding.</text>
</g>
<!-- MediaKeySystemAccessManager -->
<g id="node44" class="node"><title>MediaKeySystemAccessManager</title>
<ellipse fill="none" stroke="black" cx="1083" cy="-703.637" rx="132.677" ry="18"/>
<text text-anchor="middle" x="1083" y="-699.937" font-family="Times New Roman,serif" font-size="14.00">MediaKeySystemAccessManager</text>
</g>
<!-- Navigator&#45;&gt;MediaKeySystemAccessManager -->
<g id="edge55" class="edge"><title>Navigator&#45;&gt;MediaKeySystemAccessManager</title>
<path fill="none" stroke="black" d="M1104.43,-857.134C1100.2,-827.035 1091.75,-766.879 1086.82,-731.788"/>
<polygon fill="black" stroke="black" points="1090.26,-731.179 1085.41,-721.763 1083.33,-732.153 1090.26,-731.179"/>
</g>
<!-- MediaKeySystemAccess -->
<g id="node46" class="node"><title>MediaKeySystemAccess</title>
<polygon fill="yellow" stroke="black" points="1204,-585.077 1048,-585.077 1048,-549.077 1204,-549.077 1204,-585.077"/>
<text text-anchor="middle" x="1126" y="-563.377" font-family="Times New Roman,serif" font-size="14.00">MediaKeySystemAccess</text>
</g>
<!-- MediaKeySystemAccessManager&#45;&gt;MediaKeySystemAccess -->
<g id="edge58" class="edge"><title>MediaKeySystemAccessManager&#45;&gt;MediaKeySystemAccess</title>
<path fill="none" stroke="black" d="M1088.45,-685.595C1095.74,-662.769 1108.76,-622.02 1117.39,-595.016"/>
<polygon fill="black" stroke="black" points="1120.75,-595.996 1120.46,-585.405 1114.08,-593.866 1120.75,-595.996"/>
</g>
<!-- MediaKeySystemConfig -->
<g id="node45" class="node"><title>MediaKeySystemConfig</title>
<polygon fill="yellow" stroke="black" points="1031.5,-895.41 878.5,-895.41 878.5,-857.41 1031.5,-857.41 1031.5,-895.41"/>
<text text-anchor="middle" x="955" y="-880.21" font-family="Times New Roman,serif" font-size="14.00">MediaKeySystemConfig</text>
<text text-anchor="middle" x="955" y="-865.21" font-family="Times New Roman,serif" font-size="14.00">WebIDLBinding</text>
</g>
<!-- MediaKeySystemConfig&#45;&gt;MediaKeySystemAccessManager -->
<g id="edge57" class="edge"><title>MediaKeySystemConfig&#45;&gt;MediaKeySystemAccessManager</title>
<path fill="none" stroke="black" d="M968.698,-857.134C991.648,-826.516 1037.91,-764.796 1063.99,-729.996"/>
<polygon fill="black" stroke="black" points="1066.97,-731.864 1070.16,-721.763 1061.36,-727.666 1066.97,-731.864"/>
</g>
<!-- MediaKeySystemAccess&#45;&gt;MediaKeys -->
<g id="edge56" class="edge"><title>MediaKeySystemAccess&#45;&gt;MediaKeys</title>
<path fill="none" stroke="black" d="M1088.3,-549.023C1073.14,-542.499 1055.41,-535.27 1039,-529.6 953.083,-499.909 851.432,-473.402 786.603,-457.548"/>
<polygon fill="black" stroke="black" points="787.067,-454.059 776.523,-455.096 785.412,-460.861 787.067,-454.059"/>
</g>
<!-- GMPVideoDecoderParent&#45;&gt;GMPVideoDecoderChild -->
<g id="edge69" class="edge"><title>GMPVideoDecoderParent&#45;&gt;GMPVideoDecoderChild</title>
<path fill="none" stroke="black" d="M1380.95,-682.089C1402.45,-672.286 1429.55,-661.435 1455,-655.553 1573.91,-628.076 1607.86,-652.348 1729,-637.553 1739.31,-636.294 1902.93,-607.084 1913,-604.553 1932.76,-599.589 1954.1,-592.963 1972.81,-586.722"/>
<polygon fill="black" stroke="black" points="1379.38,-678.957 1371.8,-686.353 1382.34,-685.302 1379.38,-678.957"/>
<polygon fill="black" stroke="black" points="1973.97,-590.023 1982.32,-583.504 1971.73,-583.392 1973.97,-590.023"/>
</g>
<!-- WebrtcGmpVideoDecoder -->
<g id="node49" class="node"><title>WebrtcGmpVideoDecoder</title>
<ellipse fill="none" stroke="black" cx="1332" cy="-567.077" rx="109.681" ry="18"/>
<text text-anchor="middle" x="1332" y="-563.377" font-family="Times New Roman,serif" font-size="14.00">WebrtcGmpVideoDecoder</text>
</g>
<!-- GMPVideoDecoderParent&#45;&gt;WebrtcGmpVideoDecoder -->
<g id="edge51" class="edge"><title>GMPVideoDecoderParent&#45;&gt;WebrtcGmpVideoDecoder</title>
<path fill="none" stroke="black" d="M1338.99,-685.595C1337.64,-662.97 1335.25,-622.736 1333.64,-595.733"/>
<polygon fill="black" stroke="black" points="1337.12,-595.18 1333.03,-585.405 1330.13,-595.596 1337.12,-595.18"/>
</g>
<!-- GMPVideoEncoderParent&#45;&gt;GMPVideoEncoderChild -->
<g id="edge70" class="edge"><title>GMPVideoEncoderParent&#45;&gt;GMPVideoEncoderChild</title>
<path fill="none" stroke="black" d="M1614,-682.445C1636.23,-672.831 1664.07,-662.042 1690,-655.553 1786.99,-631.286 2039.31,-625.808 2137,-604.553 2157.42,-600.111 2179.38,-593.403 2198.4,-586.946"/>
<polygon fill="black" stroke="black" points="1612.58,-679.245 1604.84,-686.478 1615.4,-685.652 1612.58,-679.245"/>
<polygon fill="black" stroke="black" points="2199.75,-590.183 2208.06,-583.606 2197.46,-583.568 2199.75,-590.183"/>
</g>
<!-- WebrtcGmpVideoEncoder -->
<g id="node50" class="node"><title>WebrtcGmpVideoEncoder</title>
<ellipse fill="none" stroke="black" cx="1569" cy="-567.077" rx="109.381" ry="18"/>
<text text-anchor="middle" x="1569" y="-563.377" font-family="Times New Roman,serif" font-size="14.00">WebrtcGmpVideoEncoder</text>
</g>
<!-- GMPVideoEncoderParent&#45;&gt;WebrtcGmpVideoEncoder -->
<g id="edge52" class="edge"><title>GMPVideoEncoderParent&#45;&gt;WebrtcGmpVideoEncoder</title>
<path fill="none" stroke="black" d="M1570.75,-685.595C1570.41,-662.97 1569.81,-622.736 1569.41,-595.733"/>
<polygon fill="black" stroke="black" points="1572.91,-595.352 1569.26,-585.405 1565.91,-595.456 1572.91,-595.352"/>
</g>
<!-- WebrtcGmpVideoDecoder&#45;&gt;WebRTC -->
<g id="edge53" class="edge"><title>WebrtcGmpVideoDecoder&#45;&gt;WebRTC</title>
<path fill="none" stroke="black" d="M1348.16,-549.101C1368.44,-527.802 1403.36,-491.118 1426.57,-466.739"/>
<polygon fill="black" stroke="black" points="1429.3,-468.948 1433.66,-459.291 1424.23,-464.121 1429.3,-468.948"/>
</g>
<!-- WebrtcGmpVideoEncoder&#45;&gt;WebRTC -->
<g id="edge54" class="edge"><title>WebrtcGmpVideoEncoder&#45;&gt;WebRTC</title>
<path fill="none" stroke="black" d="M1552.7,-549.101C1532.26,-527.802 1497.04,-491.118 1473.63,-466.739"/>
<polygon fill="black" stroke="black" points="1475.93,-464.081 1466.48,-459.291 1470.88,-468.929 1475.93,-464.081"/>
</g>
</g>
</svg>
